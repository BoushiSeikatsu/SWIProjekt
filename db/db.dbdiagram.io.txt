// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs
Table storages {
  id integer [primary key]
  name varchar
}

Table manufacturers {
  id integer [primary key]
  name varchar
}

Table products {
  id integer [primary key]
  description varchar
  xdim integer
  ydim integer
  zdim integer
  batch varchar
  unit varchar
  manufacturer_id varchar
  manufacturer integer
 }

Table stores {
  id integer [primary key]
  amount integer
  storage integer
  product integer
}

Table added {
  id integer [primary key]
  product integer
  storage integer
  date datetime
  amount integer
  user integer
}

Table removed {
  id integer [primary key]
  product integer
  storage integer
  date datetime
  amount integer
  note varchar
  user integer
}

Table users {
  id integer [primary key]
  username varchar
  password varchar
  admin bool
  active bool
}

Ref: products.manufacturer > manufacturers.id

Ref: stores.storage > storages.id
Ref: stores.product > products.id

Ref: added.product > products.id
Ref: added.storage > storages.id

Ref: removed.product > products.id
Ref: removed.storage > storages.id

Ref: removed.user > users.id
Ref: added.user > users.id